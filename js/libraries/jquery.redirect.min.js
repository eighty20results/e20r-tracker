(function($){"use strict";$.redirect=function(url,values,method,target){method=method&&method.toUpperCase()==="GET"?"GET":"POST";if(!values){var obj=$.parseUrl(url);url=obj.url;values=obj.params}var form=$("<form>").attr({method:method,action:url,target:target});iterateValues(values,[],form);form.appendTo("body").submit()};$.parseUrl=function(url){if(url.indexOf("?")===-1){return{url:url,params:{}}}var parts=url.split("?"),query_string=parts[1],elems=query_string.split("&");url=parts[0];var i,pair,obj={};for(i=0;i<elems.length;i+=1){pair=elems[i].split("=");obj[pair[0]]=pair[1]}return{url:url,params:obj}};var getInput=function(name,value,parent){var parentString;if(parent.length>0){parentString=parent[0];var i;for(i=1;i<parent.length;i+=1){parentString+="["+parent[i]+"]"}name=parentString+"["+name+"]"}return $("<input>").attr({type:"hidden",name:name,value:value})};var iterateValues=function(values,parent,form){var i,iterateParent=[];for(i in values){if(typeof values[i]==="object"){iterateParent=parent.slice();iterateParent.push(i);iterateValues(values[i],iterateParent,form)}else{getInput(i,values[i],parent).appendTo(form)}}}})(jQuery);